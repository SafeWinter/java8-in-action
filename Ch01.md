# 第 1 章 为什么要关心 Java 8（Java 8: why should you care?）



## 1.1 Java 怎么还在变（Why is Java still changing?）

大数据时代催生多核并行应用场景，之前的 `Thread` 线程 API 对并发编程的支持并不十分友好。而 Java 8 能在同等情况下提供更多实用工具、处理更快、写法更简洁、且更易于维护。

类比 Unix 下的管道命令：

```bash
cat file1 file2 | tr "[A-Z]" "[a-z]" | sort | tail -3
```

若要改为按自定义规则排序，Java 8 可以直接将自定义排序方法以参数形式传入，无需新建一个 `Comparator` 对象，从而更好地复用代码。这就是行为参数化的概念（`behavior parameterization`）。

需要注意的是，这里作参数的方法，必须是一个纯函数（不改变全局状态），否则在并发场景下会出错：若并发地修改一个全局变量，以哪个版本为准？虽然可以添加关键字 `synchronized` 来强制打破这一限制，但 `synchronized` 的滥用，无异于挑战了 Java 新特性的设计理念，在此基础上所做的性能优化也荡然无存。

行为参数化，以及传递纯函数，是函数式编程范式的两大基石。传递纯函数（没有共享的可变数据），意味着一个方法可以完全只通过“传入某数得到某值”的方式进行描述。

Java 需要不断改进以跟进硬件的更新或满足程序员的期待。使用 Java 8 其实是在延续您的 Java 程序员职业生涯。